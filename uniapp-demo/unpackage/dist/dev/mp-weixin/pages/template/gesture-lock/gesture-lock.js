require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([7],{654:function(t,e,i){"use strict";var n=r(i(1)),s=r(i(655));function r(t){return t&&t.__esModule?t:{default:t}}new n.default(s.default).$mount()},655:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(657),s=i.n(n),r=i(663),o=!1;var a=function(t){o||i(656)},c=i(0)(s.a,r.a,a,null,null);c.options.__file="Users/gyl-dev/working/xiangliang/uniapp-demo/uniapp-demo/pages/template/gesture-lock/gesture-lock.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] gesture-lock.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},656:function(t,e){},657:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(658),r=(n=s)&&n.__esModule?n:{default:n};e.default={components:{mpvueGestureLock:r.default},data:function(){return{password:[],text:"请设定手势"}},methods:{onEnd:function(t){this.password.length?this.password.join("")===t.join("")?(this.text="手势设定完成",this.password=[]):(this.text="两次手势设定不一致",this.password=[]):(this.text="请确认手势设定",this.password=t)}}}},658:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(660),s=i.n(n),r=i(662),o=!1;var a=function(t){o||i(659)},c=i(0)(s.a,r.a,a,"data-v-0527e9c4",null);c.options.__file="Users/gyl-dev/working/xiangliang/uniapp-demo/uniapp-demo/components/mpvueGestureLock/index.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},659:function(t,e){},660:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(661),r=(n=s)&&n.__esModule?n:{default:n};e.default={name:"index",props:{containerWidth:[Number,String],cycleRadius:[Number,String],password:{type:Array,default:[]}},data:function(){return{gestureLock:{},circleArray:[],lineArray:[],activeLine:{},error:!1}},methods:{onTouchStart:function(t){this.gestureLock.onTouchStart(t),this.refesh()},onTouchMove:function(t){this.gestureLock.onTouchMove(t),this.refesh()},onTouchEnd:function(t){var e=this,i=this.gestureLock.onTouchEnd(t);this.password.length&&i.join("")!=this.password.join("")?(this.error=!0,setTimeout(function(){e.refesh(),e.$emit("end",i)},800)):(this.refesh(),this.$emit("end",i))},refesh:function(){this.error=!1,this.circleArray=this.gestureLock.getCycleArray(),this.lineArray=this.gestureLock.getLineArray(),this.activeLine=this.gestureLock.getActiveLine()}},mounted:function(){this.gestureLock=new r.default(this.containerWidth,this.cycleRadius),this.refesh()}}},661:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.containerWidth=e,this.cycleRadius=i,this.circleArray=[],this.checkPoints=[],this.lineArray=[],this.lastCheckPoint=0,this.offsetX=0,this.offsetY=0,this.activeLine={},this.windowWidth=wx.getSystemInfoSync().windowWidth,this.initCircleArray()}return n(t,[{key:"initCircleArray",value:function(){for(var t=(this.containerWidth-6*this.cycleRadius)/6,e=0,i=0;i<3;i++)for(var n=0;n<3;n++)e++,this.circleArray.push({count:e,x:this.rpxTopx((t+this.cycleRadius)*(2*n+1)),y:this.rpxTopx((t+this.cycleRadius)*(2*i+1)),radius:this.rpxTopx(this.cycleRadius),check:!1,style:{left:(t+this.cycleRadius)*(2*n+1)-this.cycleRadius+"rpx",top:(t+this.cycleRadius)*(2*i+1)-this.cycleRadius+"rpx",width:2*this.cycleRadius+"rpx"}})}},{key:"onTouchStart",value:function(t){this.setOffset(t),this.checkTouch({x:t.pageX-this.offsetX,y:t.pageY-this.offsetY})}},{key:"onTouchMove",value:function(t){this.moveDraw(t)}},{key:"onTouchEnd",value:function(t){var e=this.checkPoints;return this.reset(),e}},{key:"setOffset",value:function(t){this.offsetX=t.currentTarget.offsetLeft,this.offsetY=t.currentTarget.offsetTop}},{key:"checkTouch",value:function(t){for(var e=t.x,i=t.y,n=0;n<this.circleArray.length;n++){var s=this.circleArray[n];if(this.isPointInCycle(e,i,s.x,s.y,s.radius)){if(!s.check){if(this.checkPoints.push(s.count),0!=this.lastCheckPoint){var r=this.drawLine(this.lastCheckPoint,s);this.lineArray.push(r)}this.lastCheckPoint=s}return void(s.check=!0)}}}},{key:"drawLine",value:function(t,e){var i=this.getPointDis(t.x,t.y,e.x,e.y),n=this.getAngle(t,e);return{activeLeft:t.x+"px",activeTop:t.y+"px",activeWidth:i+"px",activeRotate:n+"deg"}}},{key:"getAngle",value:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i>=0?360*Math.atan(n/i)/(2*Math.PI):180+360*Math.atan(n/i)/(2*Math.PI)}},{key:"isPointInCycle",value:function(t,e,i,n,s){return this.getPointDis(t,e,i,n)<s}},{key:"getPointDis",value:function(t,e,i,n){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-n,2))}},{key:"moveDraw",value:function(t){var e=t.pageX-this.offsetX,i=t.pageY-this.offsetY;this.checkTouch({x:e,y:i}),this.activeLine=this.drawLine(this.lastCheckPoint,{x:e,y:i})}},{key:"reset",value:function(){this.circleArray.forEach(function(t){t.check=!1}),this.checkPoints=[],this.lineArray=[],this.activeLine={},this.lastCheckPoint=0}},{key:"getActiveLine",value:function(){return this.activeLine}},{key:"getCycleArray",value:function(){return this.circleArray}},{key:"getLineArray",value:function(){return this.lineArray}},{key:"rpxTopx",value:function(t){return t/750*this.windowWidth}}]),t}();e.default=s},662:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gesture-lock",class:{error:t.error},style:{width:t.containerWidth+"rpx",height:t.containerWidth+"rpx"},attrs:{eventid:"XQQ-0"},on:{touchstart:function(e){e.stopPropagation(),t.onTouchStart(e)},touchmove:function(e){e.stopPropagation(),t.onTouchMove(e)},touchend:function(e){e.stopPropagation(),t.onTouchEnd(e)}}},[t._l(t.circleArray,function(t,e){return i("div",{key:e,staticClass:"cycle",class:{check:t.check},style:{left:t.style.left,top:t.style.top,width:t.style.width,height:t.style.width}})}),t._v(" "),t._l(t.lineArray,function(t,e){return i("div",{key:e,staticClass:"line",style:{left:t.activeLeft,top:t.activeTop,width:t.activeWidth,transform:"rotate("+t.activeRotate+")"}})}),t._v(" "),i("div",{staticClass:"line",style:{left:t.activeLine.activeLeft,top:t.activeLine.activeTop,width:t.activeLine.activeWidth,transform:"rotate("+t.activeLine.activeRotate+")"}})],2)};n._withStripped=!0;var s={render:n,staticRenderFns:[]};e.a=s},663:function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"index-page"},[e("mpvue-gesture-lock",{attrs:{containerWidth:600,cycleRadius:70,password:this.password,eventid:"Idz-0",mpcomid:"8M3-0"},on:{end:this.onEnd}}),this._v(" "),e("view",{staticClass:"result"},[this._v(this._s(this.text))])],1)};n._withStripped=!0;var s={render:n,staticRenderFns:[]};e.a=s}},[654]);
//# sourceMappingURL=../../../.sourcemap/pages/template/gesture-lock/gesture-lock.js.map